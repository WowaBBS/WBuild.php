<?  $Loader->Parent_Class('/Builder/Asset/Cpp/MakeBase');  class C_Builder_Asset_Cpp_Compile extends C_Builder_Asset_Cpp_MakeBase  {    Static Function Make($Outer, $Compiler, $Param)    {      Parent::Make($Outer, $Compiler, $Param);            Static::Compile($Outer, $Compiler, $Param);    }    Static Function Compile($Outer, $Compiler, $Param)    {      $OutPath=$Param['OutPath'];          $PathObj=$OutPath.'Obj';      $PathObjType='Cpp/ObjPath' ;      $PathObjAsset=$Outer->CreateAsset($PathObjType, $PathObj);      $TypeCppSrc     = 'Cpp/Src'     ; //$Outer->MakeNS_ByParam('Cpp/Src'     ,$Param, 'NS_Src'     );      $TypeCppDefine  = 'Cpp/Define'  ; //$Outer->MakeNS_ByParam('Cpp/Define'  ,$Param, 'NS_Define'  );      $TypeCppInclude = 'Cpp/Include' ; //$Outer->MakeNS_ByParam('Cpp/Include' ,$Param, 'NS_Include' );      $TypeCppObj     = 'Cpp/Obj'     ; //$Outer->MakeNS_ByParam('Cpp/Obj'     ,$Param, 'NS_Obj'     );            $Sources=$Outer->RemoveAssets($TypeCppSrc);      $EnumCache=$Outer->GetModuleInstance()->EnumCache;      $Items=[];      ForEach($Sources As $SrcAsset)      {        $Dir=$SrcAsset->Parent? $SrcAsset->Parent->FullPath:$SrcAsset->GetDirFullPath();        $Num=$EnumCache->AllocNum($Dir, 'Obj');        $ObjFile=$Num.'/'.$Compiler->GetObjFile($SrcAsset);        $ObjAsset=$Outer->CreateAsset($TypeCppObj, ['Path'=>$ObjFile, '>Create'=>1]);        $Exec=$ObjAsset->CreateExec();        $ObjAsset->AddTask($Exec);                $Items[]=[          'SrcAsset' =>$SrcAsset ,          'ObjAsset' =>$ObjAsset ,          'Exec'     =>$Exec     ,        ];      }      $Compiler->Compile([        'Defines'  =>$Outer->GetAssets($TypeCppDefine  ),        'Includes' =>$Outer->GetAssets($TypeCppInclude ),        'Items'    =>$Items,      ]);      $PathObjAsset->Remove();    }  };?>